#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ¶ğŸ¶ ğŸ—ï¸ğŸ‘·ğŸ‘· formating, linting and building your project before committing'

# Define variables
PASS=0
FAIL=1

# Formatting code
pnpm check-format || { echo "âŒâŒâŒ Code formatting failed ğŸ¥¶ğŸ¥¶ğŸ¥¶"; exit $FAIL; }
echo "âœ…âœ…âœ… Code formatting passed"

# Linting code
pnpm check-lint || { echo "âŒâŒâŒ Code linting failed ğŸ¥¶ğŸ¥¶ğŸ¥¶"; exit $FAIL; }
echo "âœ…âœ…âœ… Code linting passed"

# Building code
pnpm build || { echo "âŒâŒâŒ Code building failed ğŸ¥¶ğŸ¥¶ğŸ¥¶"; exit $FAIL; }
echo "âœ…âœ…âœ… Code building passed"


echo "âœ…ğŸ’¯ All checks are passed"
echo "ğŸ‰ğŸ‰ Committing code now.... âœ”ï¸âœ”ï¸âœ”ï¸"
exit $PASS